/* Global mode aliases for every theme.
   Equal specificity to each theme block (two attribute selectors),
   and built *after* theme CSS so it wins by order. */

html[data-theme][data-mode='dark'] {
  color-scheme: dark;

  /* page / backgrounds */
  --body-background-color: var(--color-surface-950);
  --background-app:        var(--color-surface-950);
  --background-panel:      var(--color-surface-900);
  --background-elevation-1:var(--color-surface-900);
  --background-elevation-2:var(--color-surface-800);

  /* text */
  --base-font-color:       var(--color-surface-50);
  --on-surface-strong:     var(--color-surface-50);
  --on-surface:            var(--color-surface-200);
  --on-surface-muted:      var(--color-surface-400);
  --on-surface-subtle:     var(--color-surface-500);
  --on-surface-disabled:   var(--color-surface-600);

  /* borders / rings */
  --border-default-color:  var(--color-surface-700);
  --border-muted-color:    var(--color-surface-800);
  --ring-offset-color:     var(--color-surface-900);
}

/* Vision presets: these are intentionally GLOBAL defaults.
   Themes do NOT need to provide anything unless you want per-theme tuning. */

html[data-theme][data-vision="protanopia"] {
  --vision-primary-h-shift: -12deg;
  --vision-primary-c-scale: 0.85;

  --vision-secondary-h-shift: -6deg;
  --vision-secondary-c-scale: 0.9;

  --vision-tertiary-c-scale: 0.9;
  --vision-accent-c-scale: 0.9;
}

html[data-theme][data-vision="deuteranopia"] {
  --vision-primary-h-shift: -8deg;
  --vision-primary-c-scale: 0.88;

  --vision-secondary-h-shift: -4deg;
  --vision-secondary-c-scale: 0.92;
}

html[data-theme][data-vision="tritanopia"] {
  --vision-primary-h-shift: 10deg;
  --vision-primary-c-scale: 0.9;

  --vision-secondary-h-shift: 14deg;
  --vision-secondary-c-scale: 0.9;
}

html[data-theme][data-vision="monochromacy"] {
  /* Force near-grayscale by crushing chroma.
     Keep lightness/hue stable to avoid weird shifts. */
  --vision-primary-c-scale: 0.05;
  --vision-secondary-c-scale: 0.05;
  --vision-tertiary-c-scale: 0.05;
  --vision-accent-c-scale: 0.05;
  --vision-neutral-c-scale: 0.05;
  --vision-surface-c-scale: 0.02;
}
